#+BEGIN_COMMENT
.. title: Windows平台下System32和SysWOW64文件夹
.. slug: windows-system32-and-syswow64
.. date: 2020-04-14 22:21:54 UTC+08:00
.. tags: windows, system32, 64bit
.. category: windows
.. link:
.. description:
.. type: text
.. status: draft
#+END_COMMENT
#+OPTIONS: num:nil

#+TITLE: Windows平台下System32和SysWOW64文件夹

在64位的Windows操作系统下，你会发现在System32目录存放的是64位的程序，而SysWOW64目录存放的是32位的程序。本文围绕着这个知识点展开，介绍了相关的知识。

{{{TEASER_END}}}

** 为什么64位操作系统的System32目录存放的是64位程序
从目录的名字上来看，这确实非常令人迷惑，也并不符合逻辑。
这背后的原因主要是出于兼容性考虑。在64位操作系统还没有流行起来时，人们主要使用的是32位的操作系统，System32在用于存放操作系统相关的可执行程序和动态库等，有许多开发者直接将这个目录的路径写在了源代码中。所以，在向64位系统迁移时，为了保持兼容性，System32目录存放的是64位的程序和动态库。

** 为什么32位程序能够跑在64位操作系统上
众所周知，Windows系统的兼容性做的是非常好的，几年前的32位的程序大部分都能直接在64位系统上运行。当32位程序在64位操作系统上运行时，操作系统会模拟出一个32位的运行环境。程序所需要的32位运行时动态库也同样有一份在64位系统中，它们存放在SysWOW64目录下。当32位程序尝试调用System32目录中的程序或动态库时，会被重定向到SysWOW64目录中。

** 如何通过32位程序启动64位的System32程序


** 参考资料
- https://www.samlogic.net/articles/32-64-bit-windows-folder-x86-syswow64.htm
- https://www.samlogic.net/articles/sysnative-folder-64-bit-windows.htm

（全文完）
