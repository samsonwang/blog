#+BEGIN_COMMENT
.. title: 单个进程内最多可以有多少个线程
.. slug: max-number-of-threads-per-process
.. date: 2019-12-06 20:44:50 UTC+08:00
.. tags: linux, windows, thread, process
.. category: computer science
.. link:
.. description:
.. type: text
.. status: draft
#+END_COMMENT
#+OPTIONS: num:t

#+TITLE: 单个进程内最多可以有多少个线程

在开发一个服务程序时，使用的是单个进程中多线程的模式，要为每个连接的设备分配一个线程。随着设备越来越多，分配的线程数量就不断上升，当线程数量达到一定值时程序就报错退出了。于是我的问题就来了，单个进程到底可以有多少个线程呢？

{{{TEASER_END}}}

** Linux平台
Linux并没有限制进程中的线程数量，但是限制了系统中的最大进程数。

查看系统中最大进程数
#+BEGIN_SRC sh
ulimit -u
#+END_SRC

修改系统中最大进程数
#+BEGIN_SRC sh
ulimit -u 8000
#+END_SRC

=ulimit= 还可以查看其他系统的限制值。




** Windows平台



** 参考资料
- https://www.geeksforgeeks.org/maximum-number-threads-can-created-within-process-c/
- https://eknowledger.wordpress.com/2012/05/01/max-number-of-threads-per-windows-process/
